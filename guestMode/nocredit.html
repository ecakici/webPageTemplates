<!doctype html>
<html>
<head>

    <script>
		var thisDeviceId=undefined;//####deviceId# /*will be replaced by RemoteMe while serving the page*/
		var raspberryPiDeviceId=undefined;//####raspberrypideviceid# /*will be replaced by RemoteMe while serving the page*/
		var guestInfo = undefined;//####guestInfo# /*will be replaced by RemoteMe while serving the page*/
		var arduinodeviceid = undefined;//####arduinodeviceid# /*will be replaced by RemoteMe while serving the page*/
		var stripePayments = undefined;//####stripepayments# /*will be replaced by RemoteMe while serving the page*/
		var stripePublicKey = undefined;//####stripepublickey# /*will be replaced by RemoteMe while serving the page*/
		var stripeUserAccount = undefined;//####stripeuseraccount# /*will be replaced by RemoteMe while serving the page*/
		var stripeUserCountry = undefined;//####stripeUserCountry# /*will be replaced by RemoteMe while serving the page*/
		var stripeUserPhone = undefined;//####stripeUserPhone# /*will be replaced by RemoteMe while serving the page*/
		var stripeUserName = undefined;//####stripeUserName# /*will be replaced by RemoteMe while serving the page*/
		var stripeUserEmail = undefined;//####stripeUserEmail# /*will be replaced by RemoteMe while serving the page*/
    </script>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" crossorigin="anonymous">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">

    <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.indigo-pink.min.css">
    <script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>


    <script src="https://momentjs.com/downloads/moment.min.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.min.js"></script>
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.css" />
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <!--color picker -->

    <script src="/libs/iro/iro_min.js"></script>
    <link rel="stylesheet" href="/libs/getmdl-select/getmdl-select_min.css">
    <script src="/libs/getmdl-select/getmdl-select_min.js"></script>

    <link rel="stylesheet" href="/libs/getmdl-extend/getmdl-extend_min.css">
    <script src="/libs/getmdl-extend/getmdl-extend_min.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/handlebars@latest/dist/handlebars.js"></script>


    <!--color picker end -->
    <script src="/libs/gl-matrix-min.js"></script>
    <script src="/libs/adapter.js"></script>
    <script src="/libs/gauge/gauge.min.js"></script>
    <script src="/libs/remoteMe.js"></script>
    <script src="/libs/remoteMeMessages.js"></script>
    <script src="/libs/remoteMeApiRest.js"></script>
    <script src="/libs/variables.js"></script>
    <script src="/libs/operationTimer.js"></script>
    <script src="/libs/remoteMeComponents.js"></script>
    <script src="/libs/payments.js"></script>
    <script src="/libs/dialog-polyfill/dialog-polyfill.js"></script>
    <link href="/libs/dialog-polyfill/dialog-polyfill.css" rel="stylesheet">

    <link rel="stylesheet" href="/libs/remoteMeComponents.css">
    <link rel="stylesheet" href="/libs/animate.min.css">

    <link rel="stylesheet" type="text/css" href="guest.css">
    <link rel="stylesheet" type="text/css" href="styles.css">

    <script src="nocredit.js"></script>

    <script src="/libs/guestController.js"></script>
    <script src="https://js.stripe.com/v3/"></script>

</head>


<body>
<div class="container">

    ####stripeUserPhone|RAW#<!--will be replaced by RemoteMe while serving the page-->

    <div class="paymentContainer">
            <div class="label">Please choose your charge amount</div>
        <template id="stripePayments">
            {{#each stripePayments}}
            <button onclick="showPaymentDialog(`{{json this}}`)" class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect payButton" >
                <div class="ldContainer">
                    <div class="label">
                        {{this.label}}
                    </div>
                    <div class="description">
                        {{this.description}}
                    </div>
                </div>
                <div class="pContainer">
                    <div class="payment">
                        {{this.payment}}
                    </div>
                    <div class="currency">
                        {{this.currency}}
                    </div>
                </div>
                <div style="clear: both"></div>
            </button>


            {{/each}}
        </template>
        <div id="stripePaymentsTarget">

        </div>


    </div>

</div>


####stripedebug|IF#<button onclick="GuestController.getInstance().chargeDebug(0,10)"> charge credit by 10 </button>
####stripedebug|IF#<button onclick="GuestController.getInstance().resetCreditAndTime()"> Reset time and credit </button><br/>
####stripedebug|IF#<button onclick="GuestController.getInstance().setStateDebug('NO_CREDIT_OR_TIME')">set state NO_CREDIT_OR_TIME</button>
####stripedebug|IF#<button onclick="GuestController.getInstance().setStateDebug('INIT')">set state INIT</button>
####stripedebug|IF#<button onclick="GuestController.getInstance().setStateDebug('QUEUE')">set state QUEUE</button>
####stripedebug|IF#<button onclick="GuestController.getInstance().setStateDebug('ACTIVE')">set state ACTIVE</button>
####stripedebug|IF#<button onclick="GuestController.getInstance().setStateDebug('WEBRTC_TIMEOUT')">set state WEBRTC_TIMEOUT</button>
####stripedebug|IF#<button onclick="GuestController.getInstance().setStateDebug('ERROR_NOPING')">set state ERROR_NOPING</button>
####stripedebug|IF#<button onclick="GuestController.getInstance().setStateDebug('USER_EXIT')">set state USER_EXIT</button>
####stripedebug|IF#<button onclick="GuestController.getInstance().setStateDebug('OWNER_DEACTIVATE')">set state OWNER_DEACTIVATE</button>

<!-- it will be added in final step -->
<template id="paymentInfo">
    {{singleStripePayment.label}}<br/>
    {{singleStripePayment.description}}<br/>

</template>
</body>
</html>
